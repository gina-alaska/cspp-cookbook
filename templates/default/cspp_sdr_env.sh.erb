#!/bin/sh
# Environment script for CSPP / ADL 3.1.

########################################################################
#  This file is managed by Chef for <%= node[:fqdn] %>
#  Last updated at: <%= Time.now %>
######################################################################## 


test -n "$CSPP_SDR_HOME" || echo "CSPP_SDR_HOME is not set. Please set this environment variable to the install location of CSPP software packages. (When installed, \$CSPP_SDR_HOME/ADL is a directory.)"

test -d "$CSPP_SDR_HOME/common/ADL" || echo "CSPP_SDR_HOME does not appear to be set properly. See cspp_env.sh"

# revision string for this CSPP release, which we set if we have reasonable expectation that environment is correct
test -d "$CSPP_SDR_HOME/common/ADL" && export CSPP_REV="20120215"


#
# derived CSPP default locations (site installs may move these under some circumstances)
#

# read-write directory into which new ancillary data can be downloaded
export CSPP_SDR_ANC_CACHE_DIR=${CSPP_SDR_HOME}<%= node['cspp']['sdr']['CSPP_ANC_CACHE_DIR'] %>

# read-write directory for initial SDR luts and download SDR luts
export CSPP_SDR_LUTS=${CSPP_SDR_ANC_CACHE_DIR}<%= node['cspp']['sdr']['CSPP_SDR_LUTS'] %>

# static ancillary data including default algorithm settings
export CSPP_SDR_ANC_HOME=${CSPP_SDR_HOME}<%= node['cspp']['sdr']['CSPP_SDR_ANC_HOME'] %>

# default location of static ancillary tiles, which we use in-place rather than linking into workspace
export CSPP_SDR_ANC_TILE_PATH=${CSPP_SDR_ANC_HOME}<%= node['cspp']['sdr']['CSPP_SDR_ANC_TILE_PATH'] %>



#
# user path environment settings, making it easy to invoke wrapper scripts
#

export PATH=${CSPP_SDR_HOME}/viirs:$PATH
export PATH=${CSPP_SDR_HOME}/cris:$PATH
export PATH=${CSPP_SDR_HOME}/atms:$PATH
export PATH=${CSPP_SDR_HOME}/common:$PATH
export PATH=${CSPP_SDR_HOME}/common/ShellB3/bin:$PATH